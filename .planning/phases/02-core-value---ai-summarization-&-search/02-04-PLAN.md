---
phase: 02-core-value---ai-summarization-&-search
plan: 04
type: execute
wave: 2
depends_on: ["02-01"]
files_modified: [src/app/api/campaigns/route.ts, src/app/dashboard/page.tsx, src/components/CampaignList.tsx, src/lib/actions/campaign.ts]
autonomous: false
must_haves:
  truths:
    - "User can create and view campaigns on a main dashboard"
    - "Sessions are listed under their respective campaigns"
  artifacts:
    - path: "src/app/dashboard/page.tsx"
      provides: "Main campaign/session overview"
    - path: "src/lib/actions/campaign.ts"
      provides: "Campaign CRUD logic"
---

<objective>
Implement campaign management and the central dashboard.

Purpose: Provides an organized overview of sessions within campaigns (DASH-01).
Output: Campaign CRUD operations, Dashboard UI listing campaigns and their sessions.
</objective>

<execution_context>
@./.gemini/get-shit-done/workflows/execute-plan.md
@./.gemini/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-core-value---ai-summarization-&-search/02-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Campaign CRUD & Logic</name>
  <files>src/lib/actions/campaign.ts, src/app/api/campaigns/route.ts</files>
  <action>
    1. Create `src/lib/actions/campaign.ts`: Implement `createCampaign`, `getCampaigns`, `getCampaignById`, `updateCampaign`, and `deleteCampaign`.
    2. Create `src/app/api/campaigns/route.ts`: API endpoints for campaign operations.
    3. Update `src/app/api/sessions/route.ts` (or relevant POST handler): Allow optional `campaignId` when creating a session.
  </action>
  <verify>Use `curl` or Postman to create a campaign and verify it appears in the DB.</verify>
  <done>Campaign CRUD logic and API endpoints are functional.</done>
</task>

<task type="checkpoint:human-verify">
  <name>Task 2: Dashboard UI</name>
  <files>src/app/dashboard/page.tsx, src/components/CampaignList.tsx</files>
  <action>
    1. Create `src/app/dashboard/page.tsx`: The main dashboard view.
    2. Create `src/components/CampaignList.tsx`: A component that renders a list of campaigns. For each campaign, list the sessions associated with it.
    3. Add a "Create Campaign" button/modal.
    4. Ensure basic styling with Tailwind (cards, grid layout).
  </action>
  <what-built>Campaign Dashboard UI</what-built>
  <how-to-verify>
    1. Navigate to `/dashboard`.
    2. Create a new campaign.
    3. Verify existing sessions (if any) can be assigned or appear under campaigns if they have a `campaignId`.
    4. Check layout responsiveness.
  </how-to-verify>
  <done>Dashboard correctly displays campaigns and their nested sessions.</done>
</task>

</tasks>

<verification>
- Campaigns can be created and persisted.
- Dashboard shows sessions grouped by campaign.
</verification>

<success_criteria>
- User can see a clear hierarchy of Campaign -> Sessions on the dashboard.
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-value---ai-summarization-&-search/02-04-SUMMARY.md`
</output>
