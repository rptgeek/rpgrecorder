---
phase: 02-core-value---ai-summarization-&-search
plan: 05
type: execute
wave: 3
depends_on: ["02-02", "02-03", "02-04"]
files_modified: [src/app/sessions/[id]/page.tsx, src/components/AISummary.tsx, src/components/SearchBar.tsx]
autonomous: false
must_haves:
  truths:
    - "User can view the AI-generated summary on the session page"
    - "User can search for sessions from the dashboard and see results"
  artifacts:
    - path: "src/components/AISummary.tsx"
      provides: "Formatted AI summary display"
    - path: "src/components/SearchBar.tsx"
      provides: "Keyword search input and results list"
---

<objective>
Integrate search and AI summary features into the user interface.

Purpose: Completes the user-facing part of AI summarization (AI-01) and Search (SEARCH-01).
Output: AI Summary card in Session view, Search bar with results in Dashboard.
</objective>

<execution_context>
@./.gemini/get-shit-done/workflows/execute-plan.md
@./.gemini/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-core-value---ai-summarization-&-search/02-02-SUMMARY.md
@.planning/phases/02-core-value---ai-summarization-&-search/02-03-SUMMARY.md
@src/app/sessions/[id]/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: AI Summary Display</name>
  <files>src/components/AISummary.tsx, src/app/sessions/[id]/page.tsx</files>
  <action>
    1. Create `src/components/AISummary.tsx`: A component that renders the `summary` string. Use a markdown renderer (like `react-markdown`) to handle the structured output from Claude.
    2. Add a "Regenerate Summary" button that manually triggers the Inngest function.
    3. Integrate `AISummary` into the session detail page (`src/app/sessions/[id]/page.tsx`), likely above or alongside the Notes section.
  </action>
  <verify>Open a session with a summary and verify it renders correctly with markdown formatting (headers, lists).</verify>
  <done>AI summaries are visible and manually re-triggerable in the session view.</done>
</task>

<task type="checkpoint:human-verify">
  <name>Task 2: Search UI Integration</name>
  <files>src/components/SearchBar.tsx, src/app/dashboard/page.tsx</files>
  <action>
    1. Create `src/components/SearchBar.tsx`: A search input that calls `/api/search` as the user types (with debouncing).
    2. Show a dropdown or list of results with session names and brief snippets of matched text.
    3. Integrate the `SearchBar` into the `Dashboard` header.
  </action>
  <what-built>Search UI with debounced keyword search</what-built>
  <how-to-verify>
    1. Go to the Dashboard.
    2. Type a keyword known to be in a session transcript.
    3. Verify that the correct session appears in the results and clicking it navigates to that session.
  </how-to-verify>
  <done>User can efficiently find sessions via the dashboard search bar.</done>
</task>

</tasks>

<verification>
- AI Summary card is present and formatted.
- Search bar returns relevant sessions with snippets.
</verification>

<success_criteria>
- User can successfully find a specific session by searching for a keyword in its transcript.
- User can read a clear AI-generated summary of any transcribed session.
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-value---ai-summarization-&-search/02-05-SUMMARY.md`
</output>
